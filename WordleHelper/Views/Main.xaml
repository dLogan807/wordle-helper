<Window
  x:Class="WordleHelper.Main"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:controls="clr-namespace:WordleHelper.Controls"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:WordleHelper"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:viewmodels="clr-namespace:WordleHelper.ViewModels"
  x:Name="WordleHelper"
  Title="WordleHelper"
  Width="400"
  Height="550"
  d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"
  WindowStartupLocation="CenterScreen"
  mc:Ignorable="d"
>
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="93*" />
      <ColumnDefinition Width="7*" />
    </Grid.ColumnDefinitions>
    <Border Grid.ColumnSpan="2" Background="#282D33" BorderBrush="#3A4149" BorderThickness="5" />
    <Grid Grid.ColumnSpan="2">
      <Grid.Resources>
        <DataTemplate x:Key="Letter0ButtonTemplate">
          <controls:LetterButtonUserControl Letter="{Binding Letters[0]}" />
        </DataTemplate>
        <DataTemplate x:Key="Letter1ButtonTemplate">
          <controls:LetterButtonUserControl Letter="{Binding Letters[1]}" />
        </DataTemplate>
        <DataTemplate x:Key="Letter2ButtonTemplate">
          <controls:LetterButtonUserControl Letter="{Binding Letters[2]}" />
        </DataTemplate>
        <DataTemplate x:Key="Letter3ButtonTemplate">
          <controls:LetterButtonUserControl Letter="{Binding Letters[3]}" />
        </DataTemplate>
        <DataTemplate x:Key="Letter4ButtonTemplate">
          <controls:LetterButtonUserControl Letter="{Binding Letters[4]}" />
        </DataTemplate>
        <DataTemplate x:Key="DeleteButtonTemplate">
          <Button
            Command="{Binding Path=DataContext.RemoveGuessCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding}"
            Content="Remove"
          />
        </DataTemplate>
      </Grid.Resources>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="67*" />
        <ColumnDefinition Width="13*" />
      </Grid.ColumnDefinitions>
      <DataGrid
        x:Name="GuessDataGrid"
        Margin="10,77,64,188"
        AutoGenerateColumns="False"
        GridLinesVisibility="None"
        HeadersVisibility="None"
        ItemsSource="{Binding Guesses}"
      >
        <DataGrid.Columns>
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter0ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter1ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter2ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter3ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter4ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource DeleteButtonTemplate}" />
        </DataGrid.Columns>
      </DataGrid>
      <Button
        MinWidth="66"
        MinHeight="34"
        Margin="161,38,0,0"
        Padding="5"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        VerticalContentAlignment="Center"
        Command="{Binding AddGuessCommand}"
        Content="Add"
        FontSize="12"
      />
      <TextBox
        Width="138"
        Height="34"
        Margin="10,38,0,0"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        FontSize="12"
        Text="{Binding TypedGuess, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
      >
        <TextBox.InputBindings>
          <KeyBinding Key="Return" Command="{Binding AddGuessCommand}" />
        </TextBox.InputBindings>
      </TextBox>
    </Grid>
  </Grid>
</Window>
