<Window
  x:Class="WordleHelper.Main"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:local="clr-namespace:WordleHelper"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:viewmodels="clr-namespace:WordleHelper.ViewModels"
  x:Name="WordleHelper"
  Title="WordleHelper"
  Width="400"
  Height="550"
  d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"
  WindowStartupLocation="CenterScreen"
  mc:Ignorable="d"
>
  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="93*" />
      <ColumnDefinition Width="7*" />
    </Grid.ColumnDefinitions>
    <Border Grid.ColumnSpan="2" Background="#282D33" BorderBrush="#3A4149" BorderThickness="5" />
    <Grid Grid.ColumnSpan="2">
      <Grid.Resources>
        <DataTemplate x:Key="DeleteButtonTemplate">
          <Button
            Command="{Binding Path=DataContext.RemoveGuessCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding}"
            Content="Remove"
          />
        </DataTemplate>
        <DataTemplate x:Key="Letter0ButtonTemplate">
          <Button
            Width="30"
            Command="{Binding Path=DataContext.CycleLetterCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding Letters[0]}"
            Content="{Binding Letters[0].Value}"
          />
        </DataTemplate>
        <DataTemplate x:Key="Letter1ButtonTemplate">
          <Button
            Width="30"
            Command="{Binding Path=DataContext.CycleLetterCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding Letters[1]}"
            Content="{Binding Letters[1].Value}"
          />
        </DataTemplate>
        <DataTemplate x:Key="Letter2ButtonTemplate">
          <Button
            Width="30"
            Command="{Binding Path=DataContext.CycleLetterCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding Letters[2]}"
            Content="{Binding Letters[2].Value}"
          />
        </DataTemplate>
        <DataTemplate x:Key="Letter3ButtonTemplate">
          <Button
            Width="30"
            Command="{Binding Path=DataContext.CycleLetterCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding Letters[3]}"
            Content="{Binding Letters[3].Value}"
          />
        </DataTemplate>
        <DataTemplate x:Key="Letter4ButtonTemplate">
          <Button
            Width="30"
            Background="AliceBlue"
            Command="{Binding Path=DataContext.CycleLetterCommand, RelativeSource={RelativeSource AncestorType={x:Type DataGrid}}}"
            CommandParameter="{Binding Letters[4]}"
            Content="{Binding Letters[4].Value}"
          />
        </DataTemplate>
      </Grid.Resources>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="67*" />
        <ColumnDefinition Width="13*" />
      </Grid.ColumnDefinitions>
      <DataGrid
        x:Name="GuessDataGrid"
        Margin="10,77,64,188"
        AutoGenerateColumns="False"
        GridLinesVisibility="None"
        HeadersVisibility="None"
        ItemsSource="{Binding Guesses}"
      >
        <DataGrid.Columns>
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter0ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter1ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter2ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter3ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource Letter4ButtonTemplate}" />
          <DataGridTemplateColumn CellTemplate="{StaticResource DeleteButtonTemplate}" />
        </DataGrid.Columns>
      </DataGrid>
      <Button
        MinWidth="66"
        MinHeight="34"
        Margin="161,38,0,0"
        Padding="5"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        VerticalContentAlignment="Center"
        Command="{Binding AddGuessCommand}"
        Content="Add"
        FontSize="12"
      />
      <TextBox
        Width="138"
        Height="34"
        Margin="10,38,0,0"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        FontSize="12"
        Text="{Binding TypedGuess, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
      >
        <TextBox.InputBindings>
          <KeyBinding Key="Return" Command="{Binding AddGuessCommand}" />
        </TextBox.InputBindings>
      </TextBox>
    </Grid>
    <Button
      MinWidth="105"
      MinHeight="34"
      Margin="18,477,0,0"
      Padding="5"
      HorizontalAlignment="Left"
      VerticalAlignment="Top"
      VerticalContentAlignment="Center"
      Command="{Binding ShowWindowCommand}"
      Content="Show Window"
      FontSize="12"
    />
  </Grid>
</Window>
